{"version":3,"sources":["angular-bootstrap-confirm.js"],"names":["angular","idIncrementor","module","controller","$scope","$element","$compile","$document","$window","$position","confirmationPopover","positionPopover","position","positionElements","popover","vm","placement","top","left","css","showPopover","isVisible","display","hidePopover","togglePopover","this","defaults","attr","triggerSelector","template","join","element","find","append","bind","addEventListener","unbindOnDestroy","$on","remove","unbind","removeEventListener","directive","restrict","bindToController","scope","confirmText","cancelText","message","title","onConfirm","onCancel","confirmButtonType","cancelButtonType","provider","setDefaultConfirmText","value","setDefaultCancelText","setDefaultConfirmButtonType","setDefaultCancelButtonType","setDefaultPlacement","$get"],"mappings":"CAMA,SAAUA,GAER,YAEA,IAAIC,GAAgB,CAEpBD,GACGE,OAAO,eACN,aACA,wBACA,aAGDC,WAAW,4BAAA,SAAA,WAAA,WAAA,YAAA,UAAA,YAAA,sBAA4B,SAASC,EAAQC,EAAUC,EAAUC,EAAWC,EAASC,EAAWC,GAoC1G,QAASC,KACP,GAAIC,GAAWH,EAAUI,iBAAiBR,EAAUS,EAASC,EAAGC,WAAW,EAC3EJ,GAASK,KAAO,KAChBL,EAASM,MAAQ,KACjBJ,EAAQK,IAAIP,GAGd,QAASQ,KACFL,EAAGM,YACNP,EAAQK,KAAKG,QAAS,UACtBX,IACAI,EAAGM,WAAY,GAInB,QAASE,KACHR,EAAGM,YACLP,EAAQK,KAAKG,QAAS,SACtBP,EAAGM,WAAY,GAInB,QAASG,KACFT,EAAGM,UAGNE,IAFAH,IA3DJ,GAAIL,GAAKU,IACTV,GAAGW,SAAWhB,EACdK,EAAGC,UAAYD,EAAGC,WAAaD,EAAGW,SAASV,UAEtCX,EAASsB,KAAK,OACjBtB,EAASsB,KAAK,KAAM,mBAAqB1B,KAG3CG,EAAOwB,gBAAkB,IAAMvB,EAASsB,KAAK,KAE7C,IAAIE,IACF,gHACE,4BACA,0DACA,gCACE,oCACA,oBACE,yBACE,6NACF,SACA,yBACE,wNACF,SACF,SACF,SACF,UACAC,KAAK,MAEHhB,EAAUd,EAAQ+B,QAAQF,EAC9Bf,GAAQK,IAAI,UAAW,QACvBb,EAASQ,GAASV,GAClBG,EAAUyB,KAAK,QAAQC,OAAOnB,GAE9BC,EAAGM,WAAY,EAgCfN,EAAGK,YAAcA,EACjBL,EAAGQ,YAAcA,EACjBR,EAAGS,cAAgBA,EAEnBnB,EAAS6B,KAAK,QAASV,GAEvBhB,EAAQ2B,iBAAiB,SAAUxB,EAEnC,IAAIyB,GAAkBhC,EAAOiC,IAAI,WAAY,WAC3CD,IACAtB,EAAQwB,SACRjC,EAASkC,OAAO,QAASf,GACzBhB,EAAQgC,oBAAoB,SAAU7B,QAKzC8B,UAAU,aAAc,WAEvB,OACEC,SAAU,KACVvC,WAAY,iCACZwC,kBAAkB,EAClBC,OACEC,YAAa,IACbC,WAAY,IACZC,QAAS,IACTC,MAAO,IACPhC,UAAW,IACXiC,UAAW,IACXC,SAAU,IACVC,kBAAmB,IACnBC,iBAAkB,QAKvBC,SAAS,sBAAuB,WAE/B,GAAI3B,IACFmB,YAAa,UACbC,WAAY,SACZK,kBAAmB,UACnBC,iBAAkB,UAClBpC,UAAW,OAGTqC,EAAW5B,IAEfA,MAAK6B,sBAAwB,SAASC,GAEpC,MADA7B,GAASmB,YAAcU,EAChBF,GAGT5B,KAAK+B,qBAAuB,SAASD,GAEnC,MADA7B,GAASoB,WAAaS,EACfF,GAGT5B,KAAKgC,4BAA8B,SAASF,GAE1C,MADA7B,GAASyB,kBAAoBI,EACtBF,GAGT5B,KAAKiC,2BAA6B,SAASH,GAEzC,MADA7B,GAAS0B,iBAAmBG,EACrBF,GAGT5B,KAAKkC,oBAAsB,SAASJ,GAElC,MADA7B,GAASV,UAAYuC,EACdF,GAGT5B,KAAKmC,KAAO,WACV,MAAOlC,OAKZ1B","file":"angular-bootstrap-confirm.min.js","sourcesContent":["(function(angular) {\n\n  'use strict';\n\n  var idIncrementor = 0;\n\n  angular\n    .module('mwl.confirm', [\n      'ngSanitize',\n      'ui.bootstrap.position',\n      'offClick'\n    ])\n\n    .controller('PopoverConfirmController', function($scope, $element, $compile, $document, $window, $position, confirmationPopover) {\n      var vm = this;\n      vm.defaults = confirmationPopover;\n      vm.placement = vm.placement || vm.defaults.placement;\n\n      if (!$element.attr('id')) {\n        $element.attr('id', 'popover-trigger-' + idIncrementor++);\n      }\n\n      $scope.triggerSelector = '#' + $element.attr('id'); //eslint-disable-line angular/ng_controller_as\n\n      var template = [\n        '<div class=\"popover\" ng-class=\"vm.placement\" off-click=\"vm.hidePopover()\" off-click-filter=\"triggerSelector\">',\n          '<div class=\"arrow\"></div>',\n          '<h3 class=\"popover-title\" ng-bind-html=\"vm.title\"></h3>',\n          '<div class=\"popover-content\">',\n            '<p ng-bind-html=\"vm.message\"></p>',\n            '<div class=\"row\">',\n              '<div class=\"col-xs-6\">',\n                '<button class=\"btn btn-block\" ng-class=\"\\'btn-\\' + (vm.confirmButtonType || vm.defaults.confirmButtonType)\" ng-click=\"vm.onConfirm(); vm.hidePopover()\" ng-bind-html=\"vm.confirmText || vm.defaults.confirmText\"></button>',\n              '</div>',\n              '<div class=\"col-xs-6\">',\n                '<button class=\"btn btn-block\" ng-class=\"\\'btn-\\' + (vm.cancelButtonType || vm.defaults.cancelButtonType)\" ng-click=\"vm.onCancel(); vm.hidePopover()\" ng-bind-html=\"vm.cancelText || vm.defaults.cancelText\"></button>',\n              '</div>',\n            '</div>',\n          '</div>',\n        '</div>'\n      ].join('\\n');\n\n      var popover = angular.element(template);\n      popover.css('display', 'none');\n      $compile(popover)($scope);\n      $document.find('body').append(popover);\n\n      vm.isVisible = false;\n\n      function positionPopover() {\n        var position = $position.positionElements($element, popover, vm.placement, true);\n        position.top += 'px';\n        position.left += 'px';\n        popover.css(position);\n      }\n\n      function showPopover() {\n        if (!vm.isVisible) {\n          popover.css({display: 'block'});\n          positionPopover();\n          vm.isVisible = true;\n        }\n      }\n\n      function hidePopover() {\n        if (vm.isVisible) {\n          popover.css({display: 'none'});\n          vm.isVisible = false;\n        }\n      }\n\n      function togglePopover() {\n        if (!vm.isVisible) {\n          showPopover();\n        } else {\n          hidePopover();\n        }\n      }\n\n      vm.showPopover = showPopover;\n      vm.hidePopover = hidePopover;\n      vm.togglePopover = togglePopover;\n\n      $element.bind('click', togglePopover);\n\n      $window.addEventListener('resize', positionPopover);\n\n      var unbindOnDestroy = $scope.$on('$destroy', function() {\n        unbindOnDestroy();\n        popover.remove();\n        $element.unbind('click', togglePopover);\n        $window.removeEventListener('resize', positionPopover);\n      });\n\n    })\n\n    .directive('mwlConfirm', function() {\n\n      return {\n        restrict: 'EA',\n        controller: 'PopoverConfirmController as vm',\n        bindToController: true,\n        scope: {\n          confirmText: '@',\n          cancelText: '@',\n          message: '@',\n          title: '@',\n          placement: '@',\n          onConfirm: '&',\n          onCancel: '&',\n          confirmButtonType: '@',\n          cancelButtonType: '@'\n        }\n      };\n    })\n\n    .provider('confirmationPopover', function() {\n\n      var defaults = {\n        confirmText: 'Confirm',\n        cancelText: 'Cancel',\n        confirmButtonType: 'success',\n        cancelButtonType: 'default',\n        placement: 'top'\n      };\n\n      var provider = this;\n\n      this.setDefaultConfirmText = function(value) {\n        defaults.confirmText = value;\n        return provider;\n      };\n\n      this.setDefaultCancelText = function(value) {\n        defaults.cancelText = value;\n        return provider;\n      };\n\n      this.setDefaultConfirmButtonType = function(value) {\n        defaults.confirmButtonType = value;\n        return provider;\n      };\n\n      this.setDefaultCancelButtonType = function(value) {\n        defaults.cancelButtonType = value;\n        return provider;\n      };\n\n      this.setDefaultPlacement = function(value) {\n        defaults.placement = value;\n        return provider;\n      };\n\n      this.$get = function() {\n        return defaults;\n      };\n\n    });\n\n})(angular);\n"],"sourceRoot":"/source/"}